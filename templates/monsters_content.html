<div class="space-y-4">
    <h2 class="text-2xl font-bold text-gray-800 mb-4 capitalize">
        {% if category == "locker" %}
            Monster Locker
        {% elif category == "academy" %}
            Monster Academy
        {% elif category == "lab" %}
            Monster Lab
        {% else %}
            {{ category }} Monsters
        {% endif %}
    </h2>
    
    {% for monster in monsters %}
    <div class="bg-white border border-gray-200 rounded-lg p-4 shadow-sm {% if not monster.unlocked %}opacity-75 bg-gray-50{% endif %}">
        <div class="grid grid-cols-3 gap-6">
            <!-- Column 1: Name, Picture, Total Cost -->
            <div class="text-center">
                <h3 class="font-bold text-lg mb-2 {% if not monster.unlocked %}text-gray-500{% endif %}">
                    {{ monster.name }}
                    {% if not monster.unlocked %}
                        <span class="text-xs bg-red-100 text-red-600 px-2 py-1 rounded ml-2">LOCKED</span>
                    {% endif %}
                </h3>
                <div class="w-16 h-16 bg-gray-200 rounded-lg mx-auto mb-3 flex items-center justify-center">
                    {% if category == "locker" %}
                        <span class="text-2xl">👾</span>
                    {% elif category == "academy" %}
                        <span class="text-2xl">🎓</span>
                    {% elif category == "lab" %}
                        <span class="text-2xl">🧪</span>
                    {% endif %}
                </div>
                
                {% if not monster.unlocked %}
                    <div class="text-sm text-gray-600">
                        <div class="font-semibold mb-1">Unlock Cost:</div>
                        <div class="text-green-600">🟢 {{ monster.unlock_cost_goo }} Goo</div>
                    </div>
                {% else %}
                    <div class="text-sm text-gray-600">
                        <div class="font-semibold mb-1">Total to Max:</div>
                        <div class="text-green-600">🟢 {{ (monster.max_level - monster.current_level) * monster.upgrade_cost_goo }} Goo</div>
                    </div>
                {% endif %}
            </div>
            
            <!-- Column 2: Current Level, Upgrade/Unlock Button -->
            <div class="text-center">
                {% if not monster.unlocked %}
                    <div class="mb-4">
                        <span class="text-lg text-gray-500">LOCKED</span>
                    </div>
                    <button 
                        hx-post="/api/upgrade/monster/{{ monster.id }}"
                        hx-target="#upgrade-result"
                        class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                        Unlock
                    </button>
                    <div class="text-xs text-gray-500 mt-2">{{ monster.unlock_cost_goo }} Goo</div>
                {% else %}
                    <div class="mb-4">
                        <span class="text-2xl font-bold text-green-600">{{ monster.current_level }}</span>
                        <span class="text-gray-500">/</span>
                        <span class="text-lg text-gray-700">{{ monster.max_level }}</span>
                    </div>
                    
                    {% if monster.current_level < monster.max_level %}
                    <button 
                        hx-post="/api/upgrade/monster/{{ monster.id }}"
                        hx-target="#upgrade-result"
                        class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                        {% if category == "locker" %}
                            Upgrade
                        {% elif category == "academy" %}
                            Train
                        {% elif category == "lab" %}
                            Enhance
                        {% endif %}
                    </button>
                    <div class="text-xs text-gray-500 mt-2">{{ monster.upgrade_time }}</div>
                    {% else %}
                    <div class="text-green-600 font-semibold">MAX LEVEL</div>
                    {% endif %}
                {% endif %}
            </div>
            
            <!-- Column 3: Upgrade Costs List -->
            <div class="text-sm">
                {% if not monster.unlocked %}
                    <div class="font-semibold mb-2">Unlock Requirements:</div>
                    <div class="text-gray-600">
                        <p class="mb-2">This monster is currently locked.</p>
                        <div class="bg-yellow-50 border border-yellow-200 rounded p-2">
                            <div class="font-medium">Unlock Cost:</div>
                            <div class="text-green-600">🟢 {{ monster.unlock_cost_goo }} Goo</div>
                        </div>
                    </div>
                {% else %}
                    <div class="font-semibold mb-2">Remaining Upgrades:</div>
                    {% if monster.current_level < monster.max_level %}
                        {% for level in range(monster.current_level + 1, monster.max_level + 1) %}
                        <div class="flex justify-between items-center py-1 border-b border-gray-100">
                            <span>Level {{ level }}:</span>
                            <div class="text-right">
                                <div class="text-green-600">🟢 {{ monster.upgrade_cost_goo }} Goo</div>
                            </div>
                        </div>
                        {% endfor %}
                        
                        <div class="mt-3 pt-2 border-t border-gray-300 font-semibold">
                            <div class="flex justify-between">
                                <span>Total Cost:</span>
                                <div class="text-right">
                                    <div class="text-green-600">🟢 {{ (monster.max_level - monster.current_level) * monster.upgrade_cost_goo }} Goo</div>
                                </div>
                            </div>
                            <div class="text-gray-600 text-xs mt-1">
                                Total Time: {{ monster.upgrade_time }} × {{ monster.max_level - monster.current_level }}
                            </div>
                        </div>
                    {% else %}
                        <div class="text-green-600 italic">All upgrades complete!</div>
                    {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
    {% endfor %}
    
    {% if not monsters %}
    <div class="text-center py-8 text-gray-500">
        <p>No monsters found in {{ category }}.</p>
    </div>
    {% endif %}
</div>

<div id="upgrade-result"></div>
