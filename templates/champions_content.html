<!-- Updated champions template to use new feeding system with monsters and progressive requirements -->
<div class="space-y-3">
    <h2 class="text-xl font-bold text-gray-800 mb-3">Champions</h2>
    
    {% for champion in champions %}
    <div class="bg-white border border-gray-200 rounded-lg p-3 shadow-sm">
        <div class="grid grid-cols-3 gap-4">
            <!-- Column 1: Name, Picture, Total Cost -->
            <div class="text-center">
                <h3 class="font-bold text-base mb-2">{{ champion.name }}</h3>
                <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg mx-auto mb-2 flex items-center justify-center">
                    <img src="{{ champion.image_url }}" alt="{{ champion.name }}" class="w-10 h-10 rounded-lg object-cover">
                </div>
                <div class="text-xs text-gray-600">
                    <div class="font-semibold mb-1">Total to Max:</div>
                    {% if champion.current_level < champion.max_level %}
                    <div class="text-purple-600">ðŸ§ª {{ champion.total_remaining_goo }} Goo</div>
                    <div class="text-xs text-gray-500 mt-1">
                        {{ champion.max_level - champion.current_level }} levels remaining
                    </div>
                    {% else %}
                    <div class="text-green-600">Max Level!</div>
                    {% endif %}
                </div>
            </div>
            
            <!-- Column 2: Current Level, Feed Button -->
            <div class="text-center">
                <div class="mb-3">
                    <span class="text-xl font-bold text-purple-600">{{ champion.current_level }}</span>
                    <span class="text-gray-500">/</span>
                    <span class="text-base text-gray-700">{{ champion.max_level }}</span>
                </div>
                
                {% if champion.current_level < champion.max_level and champion.next_level_requirement %}
                <button 
                    hx-post="/api/feed/{{ champion.id }}"
                    hx-target="#upgrade-result"
                    class="bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded-lg font-medium transition-colors text-sm">
                    Feed Champion
                </button>
                <div class="text-xs text-gray-500 mt-1">ðŸ•° {{ champion.feeding_cooldown }} cooldown</div>
                <div class="text-xs text-purple-600 mt-1">ðŸ§ª {{ champion.next_feeding_goo_cost }} Goo</div>
                <div class="text-xs text-orange-600 mt-1">{{ champion.next_level_requirement.feedings_needed }} feedings needed</div>
                {% else %}
                <div class="text-purple-600 font-semibold">MAX LEVEL</div>
                <div class="text-xs text-gray-500 mt-1">Champion fully fed!</div>
                {% endif %}
            </div>
            
            <!-- Column 3: Feeding Requirements List -->
            <div class="text-xs">
                <div class="font-semibold mb-2">Feeding Requirements:</div>
                {% if champion.current_level < champion.max_level %}
                    <!-- Show next few levels -->
                    {% for upgrade in champion.remaining_upgrades[:3] %}
                    <div class="mb-2 p-2 bg-gray-50 rounded">
                        <div class="font-semibold">Level {{ upgrade.level }}:</div>
                        <div class="text-orange-600">{{ upgrade.feedings_needed }} feedings Ã— {{ champion.feeding_cooldown }}</div>
                        <div class="text-xs text-gray-600 mt-1">Per feeding:</div>
                        {% for monster in upgrade.monsters_per_feeding %}
                        <div class="text-xs">â€¢ {{ monster.count }}Ã— {{ monster.name }} ({{ monster.goo_cost }} goo each)</div>
                        {% endfor %}
                        <div class="text-purple-600 font-semibold mt-1">Total: ðŸ§ª{{ upgrade.goo_cost }} Goo</div>
                    </div>
                    {% endfor %}

                    {% if champion.remaining_upgrades|length > 3 %}
                    <div class="text-gray-500 italic mt-1">
                        ... +{{ champion.remaining_upgrades|length - 3 }} more levels
                    </div>
                    {% endif %}
                    
                    <div class="mt-2 pt-2 border-t border-gray-300 font-semibold">
                        <div class="flex justify-between">
                            <span>Grand Total:</span>
                            <span class="text-purple-600">ðŸ§ª{{ champion.total_remaining_goo }}</span>
                        </div>
                    </div>
                {% else %}
                    <div class="text-purple-600 italic">Champion is at maximum level!</div>
                {% endif %}
            </div>
        </div>
    </div>
    {% endfor %}
    
    {% if not champions %}
    <div class="text-center py-6 text-gray-500">
        <p>No champions available.</p>
    </div>
    {% endif %}
</div>

<div id="upgrade-result"></div>
